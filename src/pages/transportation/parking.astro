---
import Layout from '../../layouts/Layout.astro';
---

<Layout title="Smart Parking Solutions">
  <!-- Hero Section -->
  <section class="relative overflow-hidden bg-gradient-to-r from-blue-50 via-blue-100 to-blue-50">
    <div class="container mx-auto px-4 py-20">
      <div class="flex flex-col md:flex-row items-center gap-16">
        <!-- Content Side -->
        <div class="md:w-1/2 space-y-8 animate-fadeIn">
          <div class="space-y-4">
            <span class="text-blue-600 font-semibold tracking-wider uppercase text-sm">Parking Solutions</span>
            <h1 class="text-5xl font-bold text-gray-800 leading-tight">
              Smart Parking
              <span class="text-blue-600">Management</span>
            </h1>
          </div>
          
          <p class="text-gray-600 text-lg leading-relaxed">
            With global urbanization and rapid growth of vehicle population, how to manage the security by tight control of Entrance/Exit and at the same time improve running efficiency is one of the topic which concerns every potential Entrance/Exit manager.
          </p>
          
          <div class="flex flex-wrap gap-4">
            <button 
              class="group bg-blue-600 text-white px-8 py-4 rounded-lg hover:bg-blue-700 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl flex items-center gap-3"
              id="downloadBrochureButton"
            >
              <span>Download Brochure</span>
              <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
              </svg>
            </button>
          </div>
        </div>

        <!-- Image Side -->
        <div class="md:w-1/2">
          <div class="relative rounded-2xl overflow-hidden shadow-2xl">
            <img 
              src="/src/assets/Transportation/img2.png", 
              alt="Smart Parking Solution" ,
              class="w-full h-auto"
            >
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Toggle Section -->
  <section class="py-20 bg-white">
    <div class="container mx-auto px-4">
      <div class="flex flex-col gap-8">
        <!-- Toggle Buttons -->
        <div class="flex flex-wrap justify-center gap-4">
          <button 
            class="toggle-btn active px-8 py-4 rounded-lg text-lg font-semibold transition-all duration-300" 
            data-target="entrance-content"
          >
            Entrance & Exit Control
          </button>
          <button 
            class="toggle-btn px-8 py-4 rounded-lg text-lg font-semibold transition-all duration-300" 
            data-target="smart-parking-content"
          >
            Smart Parking Management
          </button>
        </div>

        <!-- Solution Overview Images -->
        <div class="max-w-4xl mx-auto w-full">
          <h2 class="text-3xl font-bold text-center mb-12">Solution Overview</h2>
          <div id="entrance-overview" class="content-section rounded-2xl overflow-hidden shadow-2xl mb-16">
            <img 
              src="/src/assets/parking/Solution.png" 
              alt="Entrance & Exit Control Overview" 
              class="w-full h-auto object-contain max-h-[500px]"
            >
          </div>
          <div id="smart-parking-overview" class="content-section hidden rounded-2xl overflow-hidden shadow-2xl mb-16">
            <img 
              src="/src/assets/parking/Overview1.png" 
              alt="Smart Parking Management Overview" 
              class="w-full h-auto object-contain max-h-[500px]"
            >
          </div>
        </div>

        <!-- Content Sections -->
        <div id="entrance-content" class="content-section">
          <div class="grid md:grid-cols-2 gap-8 items-center">
            <div class="space-y-6">
              <h2 class="text-3xl font-bold text-gray-800">Entrance & Exit Control</h2>
              <p class="text-gray-600">Innovations to Assure High Efficiency of Entrance/Exit Management</p>
              <p class="text-gray-600">Dahua innovative Entrance/Exit solution with embedded ANPR, seamless integration of various technologies like video, VTO and management platform offers you what matters most for Entrance/Exit management.</p>
              <ul class="space-y-4">
                {[
                  "Automatic number plate recognition (ANPR)",
                  "Barrier gate control",
                  "Digital ticket dispensing",
                  "Anti-passback protection",
                  "Vehicle type detection"
                ].map(item => (
                  <li class="flex items-center gap-3">
                    <svg class="w-6 h-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                    <span>{item}</span>
                  </li>
                ))}
              </ul>
            </div>
            <img 
              src="/src/assets/Parking/img2.png" 
              alt="Entrance Control" 
              class="rounded-xl shadow-lg"
            >
          </div>
        </div>

        <div id="smart-parking-content" class="content-section hidden">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {[
              {
                title: "Entrance & Exit",
                description: "Intelligent entrance and exit management with advanced authentication systems and dynamic allocation of parking spaces.",
                image: "/src/assets/parking/monitor.png",
                features: [
                  "Occupancy tracking",
                  "Incident detection",
                  "License plate recognition",
                  "Vehicle type detection"
                ],
                color: "blue"
              },
              {
                title: "Parking Guidance",
                description: "Real-time parking space availability and navigation systems for seamless parking experience.",
                image: "/src/assets/parking/space.png",
                features: [
                  "Zone management",
                  "Reservation system",
                  "Parking guidance",
                  "Parking analytics"
                ],
                color: "green"
              },
              {
                title: "Easy Deployment & Cost Down",
                description: "Easy deployment and maintenance with cloud-based management and cost-effective solutions.",
                image: "/src/assets/parking/payment.png",
                features: [
                  "Mobile payments",
                  "Mobile app integration",
                  "Digital receipts",
                  "Cloud-based management"
                ],
                color: "purple"
              },
              {
                title: "Car Locating",
                description: "Real-time vehicle tracking and locating systems for efficient parking space allocation and management.",
                image: "/src/assets/parking/access.png",
                features: [
                  "QR code access",
                  "Vehicle tracking",
                  "Parking allocation",
                  "Vehicle locating"
                ],
                color: "orange"
              },
              {
                title: "Parking Management",
                description: "Comprehensive parking management systems with real-time monitoring and analytics for efficient parking operations.",
                image: "/src/assets/parking/analytics.png",
                features: [
                  "Parking monitoring",
                  "Parking analytics",
                  "Parking reports",
                  "Parking optimization"
                ],
                color: "red"
              }
            ].map(card => (
              <div class="bg-white rounded-xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition-all duration-300">
                <div class={`bg-${card.color}-500 h-2`}></div>
                <div class="p-6">
                  <h3 class="text-xl font-bold text-gray-800 mb-3">{card.title}</h3>
                  <p class="text-gray-600 mb-4 text-sm">{card.description}</p>
                  <div class="space-y-2">
                    {card.features.map(feature => (
                      <div class="flex items-center gap-2">
                        <svg class={`w-4 h-4 text-${card.color}-500`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                        </svg>
                        <span class="text-sm text-gray-600">{feature}</span>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Solution Details Section -->
  <section class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16 space-y-4">
        <h2 class="text-4xl font-bold text-gray-800">Solution Details</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">Comprehensive parking solutions designed to enhance efficiency and user experience</p>
      </div>
      <div class="grid md:grid-cols-3 gap-8">
        {[
          {
            title: "UVSS -Make Your Vehicle Security Easier",
            description: "Advanced security systems for controlled vehicle access with real-time monitoring and automated gates.",
            backContent: "UVSS -Make Your Vehicle Security Easier\n\n1. Loop sensor detect the moving vehicles\n2. Controller regulate the light and the license plate will be captured at the same time\n3. The image of the vehicle chassis will be captured and uploaded to the computer\n4. The back-end software will stitch the graph and save,match the images",
            image: "/src/assets/parking/img1.png",
            icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
            </svg>`
          },
          {
            title: "Smart Parking Navigation",
            description: "Smart parking navigation systems with real-time parking space availability and vehicle tracking.",
            backContent: "• Outdoor Screen: Clearly shows the available number of parking lots and help driver to know if the parking is occupied or empty.\n\n• Info Screen: Clearly show the car plate info for driver, to indicate driver related information when barrier doesn't open and help driver to acknowledge the vehicle plate.\n\n• ANPR Camera: Capture and recognize the vehicle plate with video & loop detection, relay out to enable the opening of the barrier and improve the entrance efficiency and safety.",
            image: "/src/assets/parking/img2.png",
            icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"/>
            </svg>`
          },
          {
            title: "Seamless Payment Solutions",
            description: "Automated payment systems for seamless parking fee collection and user convenience.",
            backContent: "• Record and search the history list of car approaching and departure.\n\n• Simplify the registration process of coming visitor without human intervene.\n\n• Emergency handling when vehicle authorization of entrance and exit fails.",
            image: "/src/assets/parking/img3.png",
            icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
            </svg>`
          }
        ].map((solution, index) => (
          <div class="card-flip h-[350px]">
            <div class="card-inner">
              <!-- Front of card -->
              <div class="card-front bg-white rounded-xl overflow-hidden shadow-lg">
                <div class="relative h-32 overflow-hidden">
                  <img 
                    src={solution.image} 
                    alt={solution.title}
                    class="w-full h-full object-contain"
                  />
                </div>
                <div class="p-6 relative">
                  <div class="absolute -top-8 left-6 bg-blue-600 p-3 rounded-lg text-white shadow-lg">
                    <div class="w-6 h-6" set:html={solution.icon} />
                  </div>
                  <div class="pt-2">
                    <h3 class="text-lg font-bold text-gray-800 mb-2">{solution.title}</h3>
                    <p class="text-sm text-gray-600 leading-relaxed">{solution.description}</p>
                  </div>
                </div>
              </div>
              
              <!-- Back of card -->
              <div class="card-back bg-blue-600 rounded-xl overflow-hidden shadow-lg p-6">
                <h3 class="text-lg font-bold text-white mb-3">{solution.title}</h3>
                <div class="text-white text-sm whitespace-pre-line">
                  {solution.backContent}
                </div>
                {index !== 0 && (
                  <a 
                    href={`/transportation/parking/${solution.title.toLowerCase().replace(/\s+/g, '-')}`}
                    class="mt-4 inline-block bg-white text-blue-600 px-4 py-1.5 rounded-lg hover:bg-blue-50 transition-colors text-sm"
                  >
                    Learn More
                  </a>
                )}
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

 <!-- Key Technology Section -->
<section class="py-20 bg-white">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold text-gray-800 mb-4">Key Technologies</h2>
        <div class="w-24 h-1 bg-blue-600 mx-auto rounded-full"></div>
      </div>
      
      <!-- Carousel Container -->
      <div class="carousel-container overflow-hidden relative">
        <div class="carousel-track flex transition-transform duration-500">
          {[
            {
              title: "ANPR Technology",
              description: "Advanced number plate recognition system with high accuracy and fast processing for seamless vehicle identification.",
              image: "/src/assets/parking/img4.jpg",
              icon: `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
              </svg>`
            },
            {
              title: "IoT Sensors",
              description: "Smart sensors for real-time monitoring of parking spaces and vehicle movement detection.",
              image: "/src/assets/parking/img5.jpg",
              icon: `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
              </svg>`
            },
            {
              title: "AI Analytics",
              description: "Artificial Intelligence powered analytics for predictive parking management and optimization.",
              image: "/src/assets/parking/img6.jpg",
              icon: `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>`
            }
          ].map(tech => (
            <div class="carousel-item flex-none w-full md:w-1/3 px-4">
              <div class="group bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                <div class="relative h-48 overflow-hidden">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-10"></div>
                  <img 
                    src={tech.image} 
                    alt={tech.title}
                    class="w-full h-full object-contain transition-transform duration-700 group-hover:scale-110"
                  />
                  <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-3 rounded-full z-20">
                    <div class="text-blue-600" set:html={tech.icon} />
                  </div>
                </div>
                <div class="p-6 space-y-4">
                  <h3 class="text-xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors">
                    {tech.title}
                  </h3>
                  <p class="text-gray-600 leading-relaxed text-sm">
                    {tech.description}
                  </p>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
</section>

  <!-- Solution Features Section -->
  <section class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 class="text-4xl font-bold text-center mb-12">Solution Features</h2>
      <div class="bg-white rounded-xl shadow-lg p-8 relative">
        <!-- Decorative Circles -->
        <div class="absolute top-4 right-4 flex gap-2">
          <div class="w-3 h-3 rounded-full bg-red-500"></div>
          <div class="w-3 h-3 rounded-full bg-blue-500"></div>
          <div class="w-3 h-3 rounded-full bg-green-500"></div>
          <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
        </div>
        
        <ul class="space-y-4">
          {[
            "Record and search the history list of car approaching and departure.",
            "Simplify the registration process of coming visitor without human intervene.",
            "Emergency handling when vehicle authorization of entrance and exit fails.",
            "Comprehensive Surveillance: Real-time preview and playback for video, modify the plate info if it's incorrect, help the guard to quickly response once an accident or an event happens.",
            "Smart Search: Search the video and image by date/time/license plate number from the server to locate the key evidence efficiently.",
            "Intercom Handling: Response to visitor or emergency call from VTO, keep the safety even without on-site watch house. Define various parameters for allowed list: Time, Gate channel, Plate, Quantity.",
            "Multiple Linkage: The administrator can set different linkage rules following ANPR such as open the barrier or e-mail once plate number is recognized.",
            "Flexible Visitor Management: Flexible policy for manage barrier: Automatic operation by allowlist or manual control by software remotely."
          ].map(feature => (
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-blue-500 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              <span class="text-gray-700">{feature}</span>
            </li>
          ))}
        </ul>
      </div>
    </div>
  </section>

</Layout>

<style>
  .toggle-btn {
    background-color: #f3f4f6;
    color: #4b5563;
  }

  .toggle-btn.active {
    background-color: #3b82f6;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  .content-section {
    opacity: 1;
    transition: opacity 0.3s ease-in-out;
  }

  .hidden {
    display: none;
    opacity: 0;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .animate-fadeIn {
    animation: fadeIn 0.8s ease-out forwards;
  }

  .card-flip {
    perspective: 1000px;
    height: 350px;
  }

  .card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.8s;
    transform-style: preserve-3d;
  }

  .card-flip:hover .card-inner {
    transform: rotateY(180deg);
  }

  .card-front,
  .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
  }

  .card-back {
    transform: rotateY(180deg);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
  }

  .carousel-container {
    position: relative;
    padding: 0;
    overflow: hidden;
  }

  .carousel-track {
    display: flex;
    transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform;
  }

  .carousel-item {
    flex: 0 0 auto;
    transition: opacity 0.5s ease;
  }

  @media (max-width: 768px) {
    .carousel-item {
      width: 100%;
    }
  }
</style>

<script>
  // Toggle functionality
  const buttons = document.querySelectorAll('.toggle-btn');
  const sections = document.querySelectorAll('.content-section');

  buttons.forEach(button => {
    button.addEventListener('click', () => {
      // Update button states
      buttons.forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');
      
      // Get target ID
      const targetId = (button as HTMLElement).dataset.target;
      if (!targetId) return;

      // Hide all sections
      sections.forEach(section => section.classList.add('hidden'));
      
      // Show target content section
      const targetContent = document.getElementById(targetId);
      if (targetContent) {
        targetContent.classList.remove('hidden');
      }

      // Show corresponding overview image
      const targetOverview = document.getElementById(targetId.replace('content', 'overview'));
      if (targetOverview) {
        targetOverview.classList.remove('hidden');
      }
    });
  });

  // Brochure download functionality
  function downloadBrochure() {
    const link = document.createElement('a');
    link.href = '/src/assets/parking/brochure.pdf';
    link.download = 'smart-parking-solutions-brochure.pdf';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }

  const downloadButton = document.getElementById('downloadBrochureButton');
  if (downloadButton) {
    downloadButton.addEventListener('click', downloadBrochure);
  }

  const track = document.querySelector('.carousel-track');
  const items = document.querySelectorAll('.carousel-item');
  
  let currentIndex = 0;
  const itemWidth = 100 / items.length;

  // Clone first set of items and append to end for smooth infinite loop
  if (track) {
    items.forEach(item => {
      const clone = item.cloneNode(true);
      track.appendChild(clone);
    });
  }

  function updateCarousel() {
    if (track) {
      if (currentIndex >= items.length) {
        currentIndex = 0;
        requestAnimationFrame(() => {
          // Remove transition for instant reset
          (track as HTMLElement).style.transition = 'none';
          (track as HTMLElement).style.transform = `translateX(0)`;
          // Force reflow
          (track as HTMLElement).offsetHeight;
          // Re-enable transition
          (track as HTMLElement).style.transition = 'transform 0.8s cubic-bezier(0.4, 0, 0.2, 1)';
        });
      } else {
        (track as HTMLElement).style.transform = `translateX(-${currentIndex * itemWidth}%)`;
      }
    }
  }

  // Smoother auto-play with longer interval
  const autoplayInterval = setInterval(() => {
    currentIndex++;
    updateCarousel();
  }, 5000); // Increased to 5 seconds for better viewing experience

  // Optional: Pause on hover
  if (track) {
    track.addEventListener('mouseenter', () => clearInterval(autoplayInterval));
    track.addEventListener('mouseleave', () => {
      setInterval(() => {
        currentIndex++;
        updateCarousel();
      }, 5000);
    });
  }
</script>
